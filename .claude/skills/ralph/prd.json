{
  "project": "obsidian-workout-plugin",
  "branchName": "ralph/phase4-integrations",
  "description": "Phase 4 - Integrations: Mobile quick logging, Templater functions, Dataview API, and Canvas export",
  "userStories": [
    {
      "id": "US-001",
      "title": "Add Quick Log Ribbon Icon",
      "description": "As a user, I want a ribbon icon for quick logging so that I can log sets with minimal taps during workouts.",
      "acceptanceCriteria": [
        "Dumbbell icon added to left ribbon using addRibbonIcon API",
        "Icon visible on both desktop and mobile",
        "Clicking opens QuickLogModal (placeholder for now, shows notice)",
        "Add 'showQuickLogRibbon' boolean to settings (default: true)",
        "Settings tab includes toggle to show/hide ribbon icon",
        "Icon removed from ribbon when setting is disabled",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": "Implemented 2026-01-28: Ribbon icon with dumbbell added, QuickLogModal placeholder created, settings toggle added in Quick Log section"
    },
    {
      "id": "US-002",
      "title": "Create Quick Log Modal Base",
      "description": "As a user, I want a simplified logging modal so that I can log a set in under 5 seconds.",
      "acceptanceCriteria": [
        "Create QuickLogModal extending ModalBase in app/features/modals/",
        "Modal shows only: exercise input, reps input, weight input, confirm button",
        "Exercise field uses ExerciseAutocomplete component",
        "Large touch targets (minimum 44x44px) for all interactive elements",
        "Confirm button logs entry to CSV using DataService",
        "Modal closes after successful log with notice confirmation",
        "Ribbon icon opens this modal instead of placeholder",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 2,
      "passes": true,
      "notes": "Implemented 2026-01-28: QuickLogModal with ExerciseAutocomplete, reps/weight inputs with 44px+ touch targets, CSS styles in _modal.scss, logs to CSV via plugin.addWorkoutLogEntry()"
    },
    {
      "id": "US-003",
      "title": "Add Recent Exercises Quick Select",
      "description": "As a user, I want to tap my recent exercises so that I don't need to search every time.",
      "acceptanceCriteria": [
        "Add 'recentExercises' array to settings (max 10 items)",
        "QuickLogModal shows top 5 recent exercises as chip buttons above exercise input",
        "Chips are horizontally scrollable, pill-shaped design",
        "Tapping chip selects exercise and moves focus to reps input",
        "Recent list updates after each successful log (most recent first)",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 3,
      "passes": true,
      "notes": "Implemented 2026-01-28: Added recentExercises array to settings (max 10), pill-shaped chips above exercise input, horizontally scrollable container, chip selection moves focus to reps, list updates after each log"
    },
    {
      "id": "US-004",
      "title": "Add Weight Auto-fill and Quick Adjustment",
      "description": "As a user, I want weight to default to my last set and have quick adjustment buttons.",
      "acceptanceCriteria": [
        "Weight field defaults to last weight for selected exercise (from CSV data)",
        "'+2.5' and '-2.5' buttons flank weight input",
        "Add 'quickWeightIncrement' to settings (number, default: 2.5)",
        "Settings tab includes input for quick weight increment",
        "Buttons use configured increment value",
        "Visual feedback on button tap (brief highlight)",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 4,
      "passes": true,
      "notes": "Implemented 2026-01-28: Weight auto-fill from last exercise entry via CSV data, +/- buttons with configurable quickWeightIncrement setting (default 2.5), visual feedback with brief highlight on tap, settings UI in Quick Log section, CSS styles in _modal.scss"
    },
    {
      "id": "US-005",
      "title": "Create Templater Exercise Block Function",
      "description": "As a Templater user, I want a function to generate exercise blocks so that my templates can include workout structures.",
      "acceptanceCriteria": [
        "Create scripts/templater-functions.js with workoutExerciseBlock function",
        "Function signature: workoutExerciseBlock(name, duration, workout)",
        "Returns formatted exercise block string with workout-timer code block",
        "Add documentation in scripts/README.md explaining Templater setup",
        "Document required Templater settings (user script folder)",
        "Typecheck passes"
      ],
      "priority": 5,
      "passes": true,
      "notes": "Implemented 2026-01-28: Created scripts/templater-functions.js with workoutExerciseBlock(name, duration, workout) function that generates exercise header + workout-timer code block, comprehensive README.md with setup instructions, usage examples, and troubleshooting guide"
    },
    {
      "id": "US-006",
      "title": "Create Templater Exercise List Function",
      "description": "As a Templater user, I want a function to get exercise names so that I can build dynamic templates.",
      "acceptanceCriteria": [
        "Add workoutExercises function to scripts/templater-functions.js",
        "Function returns array of exercise names from configured exercises folder",
        "Supports filter parameter: workoutExercises({tag: 'glutes'})",
        "Filter by tag reads exercise file frontmatter",
        "Update scripts/README.md with usage examples",
        "Typecheck passes"
      ],
      "priority": 6,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-007",
      "title": "Expose Dataview Workout Logs API",
      "description": "As a Dataview user, I want to query my workout logs so that I can create custom views.",
      "acceptanceCriteria": [
        "Expose window.WorkoutPlannerAPI object from plugin",
        "API includes getWorkoutLogs(filter) method",
        "Filter supports: exercise, workout, dateRange, protocol parameters",
        "Returns array of log entries compatible with Dataview tables",
        "Add documentation in docs/dataview-integration.md with example queries",
        "Typecheck passes"
      ],
      "priority": 7,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-008",
      "title": "Expose Dataview Exercise Stats API",
      "description": "As a Dataview user, I want exercise statistics so that I can build custom dashboards.",
      "acceptanceCriteria": [
        "Add getExerciseStats(exercise) to WorkoutPlannerAPI",
        "Returns object with: totalVolume, maxWeight, totalSets, trend",
        "Add getExercises(filter) to list available exercises",
        "Update docs/dataview-integration.md with stats examples",
        "Include inline query examples (dv.span usage)",
        "Typecheck passes"
      ],
      "priority": 8,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-009",
      "title": "Create Canvas Export Command",
      "description": "As a user, I want to visualize my workout as a Canvas so that I can see the structure visually.",
      "acceptanceCriteria": [
        "Add command 'Export Workout to Canvas' in CommandHandlerService",
        "Command opens file suggester to select workout file",
        "Create CanvasExporter class in app/features/canvas/",
        "Generates .canvas file in same folder as workout file",
        "Canvas includes nodes for each exercise found in workout file",
        "Nodes colored by muscle group (use exercise frontmatter)",
        "Canvas JSON follows Obsidian canvas schema",
        "Typecheck passes"
      ],
      "priority": 9,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-010",
      "title": "Add Canvas Export Layout Options",
      "description": "As a user, I want layout options for canvas export so that I can customize the visualization.",
      "acceptanceCriteria": [
        "Create CanvasExportModal for export options",
        "Layout options: horizontal flow, vertical flow, grouped by muscle",
        "Checkbox: include timer durations on nodes",
        "Checkbox: include last performance stats on nodes",
        "Connect superset exercises with edges",
        "Selected options passed to CanvasExporter",
        "Typecheck passes"
      ],
      "priority": 10,
      "passes": false,
      "notes": ""
    }
  ]
}
