{
  "project": "obsidian-workout-plugin",
  "branchName": "ralph/phase5-refactoring",
  "description": "Phase 5 - Refactoring: Split Constants.ts (817 lines) into focused single-responsibility modules",
  "userStories": [
    {
      "id": "US-001",
      "title": "Split UI Constants into Dedicated File",
      "description": "As a developer, I want UI-related constants in a dedicated file so that I can quickly find labels, icons, and emoji.",
      "acceptanceCriteria": [
        "Create app/constants/ui.constants.ts",
        "Move all MODAL.*, SETTINGS.*, TABLE.*, CHARTS.*, TIMER.* label/title/button strings",
        "Move all ICONS and EMOJI constants",
        "Export named exports: UI_LABELS, ICONS, EMOJI (grouped by domain)",
        "File has header JSDoc explaining its purpose",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": "Completed 2026-01-28. Created ui.constants.ts with ICONS, EMOJI, MODAL_UI, SETTINGS_UI, TABLE_UI, CHARTS_UI, TIMER_UI, DASHBOARD_UI, GENERAL_UI exports and aggregated UI_LABELS export."
    },
    {
      "id": "US-002",
      "title": "Split Default Values into Dedicated File",
      "description": "As a developer, I want default configuration values in a dedicated file so that I can understand plugin defaults at a glance.",
      "acceptanceCriteria": [
        "Create app/constants/defaults.constants.ts",
        "Move all DEFAULT_* constants (DEFAULT_CHART_CONFIG, DEFAULT_DATE_RANGE, etc.)",
        "Move default settings object (DEFAULT_SETTINGS or equivalent)",
        "Add JSDoc comment to each default explaining its purpose",
        "File has header JSDoc explaining its purpose",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": "Completed 2026-01-28. Created defaults.constants.ts with DEFAULT_SETTINGS, DEFAULT_CHART_CONFIG, DEFAULT_TABLE_CONFIG, DEFAULT_TIMER_CONFIG, DEFAULT_DATE_KEY. Re-exported DEFAULT_SETTINGS from WorkoutLogData.ts for backward compatibility. Aggregated DEFAULTS export for convenient access."
    },
    {
      "id": "US-003",
      "title": "Split Muscle Constants into Dedicated File",
      "description": "As a developer, I want muscle-related constants in a dedicated file so that heatmap and body-part logic is contained.",
      "acceptanceCriteria": [
        "Create app/constants/muscles.constants.ts",
        "Move MUSCLE_GROUPS array/object",
        "Move MUSCLE_COLORS mapping",
        "Move HEATMAP_CONFIG or any heatmap-related constants",
        "Move muscle tag mappings (tag to display name, etc.)",
        "File has header JSDoc explaining its purpose",
        "Typecheck passes"
      ],
      "priority": 3,
      "passes": true,
      "notes": "Completed 2026-01-29. Created muscles.constants.ts with MUSCLE_NAMES, MUSCLE_POSITIONS, MUSCLE_GROUPS, BODY_PARTS, MUSCLE_TAGS, MUSCLE_TAG_MAP, MUSCLE_KEYWORDS exports. Added aggregated MUSCLES export. Updated index.ts barrel to re-export from the new module."
    },
    {
      "id": "US-004",
      "title": "Split Validation Constants into Dedicated File",
      "description": "As a developer, I want validation messages in a dedicated file so that error handling is consistent.",
      "acceptanceCriteria": [
        "Create app/constants/validation.constants.ts",
        "Move all error messages and validation strings",
        "Move validation patterns (regex patterns, numeric limits)",
        "Move any ERRORS or MESSAGES objects",
        "File has header JSDoc explaining its purpose",
        "Typecheck passes"
      ],
      "priority": 4,
      "passes": true,
      "notes": "Completed 2026-01-29. Created validation.constants.ts with ERROR_MESSAGES, ERROR_TYPES, FORM_VALIDATION, SETTINGS_VALIDATION, TABLE_VALIDATION, CHART_LIMITS, TABLE_LIMITS, TIMER_LIMITS exports. Added aggregated VALIDATION export. Updated index.ts barrel to re-export from the new module."
    },
    {
      "id": "US-005",
      "title": "Create Constants Barrel Export Index",
      "description": "As a developer, I want a single import point for constants so that existing code can migrate gradually.",
      "acceptanceCriteria": [
        "Create app/constants/index.ts",
        "Re-export all exports from ui.constants.ts",
        "Re-export all exports from defaults.constants.ts",
        "Re-export all exports from muscles.constants.ts",
        "Re-export all exports from validation.constants.ts",
        "Support both import { X } from '@app/constants' and import { X } from '@app/constants/ui.constants'",
        "Typecheck passes"
      ],
      "priority": 5,
      "passes": true,
      "notes": "Completed 2026-01-29. The index.ts barrel already existed with proper re-exports from all four new constant modules (ui, defaults, muscles, validation). Also re-exports from original Constants.ts and MuscleTags.ts for backward compatibility. Verified: TypeScript compiles, all 368 tests pass."
    },
    {
      "id": "US-006",
      "title": "Update All Imports to Use New Constants Structure",
      "description": "As a developer, I want all existing imports updated so that the codebase uses the new modular structure.",
      "acceptanceCriteria": [
        "Find all files importing from Constants.ts (use grep)",
        "Update each file to import from @app/constants barrel or specific module",
        "Prefer specific imports (e.g., @app/constants/ui.constants) for better tree-shaking",
        "No circular dependency warnings in build output",
        "Typecheck passes",
        "All tests pass"
      ],
      "priority": 6,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-007",
      "title": "Remove Original Constants.ts File",
      "description": "As a developer, I want the original monolithic file removed so that the refactoring is complete.",
      "acceptanceCriteria": [
        "Delete app/constants/Constants.ts",
        "Verify no references to old file remain (grep for Constants.ts)",
        "npm run build succeeds without errors",
        "npm run lint passes",
        "Typecheck passes",
        "All tests pass"
      ],
      "priority": 7,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-008",
      "title": "Update CLAUDE.md with Constants Structure Documentation",
      "description": "As a developer, I want documentation for the constants structure so that future contributors understand the organization.",
      "acceptanceCriteria": [
        "Update CLAUDE.md Constants section to reflect new file structure",
        "Document purpose of each constants file (ui, defaults, muscles, validation)",
        "Include example import statements for both barrel and direct imports",
        "Mention tree-shaking benefit of direct imports",
        "Typecheck passes"
      ],
      "priority": 8,
      "passes": false,
      "notes": ""
    }
  ]
}
